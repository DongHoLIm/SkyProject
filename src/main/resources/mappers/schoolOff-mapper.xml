<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="SchoolOff">
  	<resultMap type="SchoolOff" id="schoolOffResultSet">
  		<id property="studentNo" column="STUDENT_NO"/>
  		<id property="applyNo" column="APPLY_NO"/>
  		<result property="applyDate" column="APPLY_DATE"/>
  		<result property="offStart" column="OFF_START"/>
  		<result property="offType" column="OFF_TYPE"/>
  		<result property="offReason" column="OFF_REASON"/>
  		<result property="offTerm" column="OFF_TERM"/>
  		<result property="returnDate" column="RETURN_DATE"/>
  		<result property="enlistmentDate" column="ENLISTMENT_DATE"/>
  		<result property="demobilizationDate" column="DEMOBILIZATION_DATE"/>
  		<result property="requiredDoc" column="REQUIRED_DOC"/>
  		<result property="offStatus" column="OFF_STATUS"/>
  	
  	</resultMap>
  	
  	<select id="selectSchoolOff" resultMap="schoolOffResultSet">
  		SELECT OFF_TYPE, OFF_REASON, OFF_START, RETURN_DATE, APPLY_DATE, OFF_STATUS
  		FROM OFF_SCHOOL
  		WHERE STUDENT_NO= #{studentNo}
  	</select>
  	
  	<insert id="schoolOffApply" parameterType="SchoolOff">
  		INSERT INTO OFF_SCHOOL (APPLY_DATE,OFF_TYPE,OFF_REASON,OFF_TERM,RETURN_DATE,
								ENLISTMENT_DATE,DEMOBILIZATION_DATE,REQUIRED_DOC,
								OFF_START,OFF_STATUS,APPLY_NO,STUDENT_NO) 
		VALUES(SYSDATE, #{offType}, #{offReason}, #{offTerm}, #{returnDate}, 
				#{enlistmentDate}, #{demobilizationDate}, #{requiredDoc}, 
				#{offStart}, DEFAULT, SEQ_OFFSCHOOL.NEXTVAL, #{studentNo})
  	</insert>
  
  
  
  
  
  </mapper>